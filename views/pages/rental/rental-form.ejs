<%- include('../../fragments/header.ejs') %>
    <main>
        <h2>Add new rental</h2>
        <form class="form" novalidate onsubmit="return rentalValidateForm();">
            <label for="rentalClientEmail">E-mail: <abbr title="required" aria-label="required">*</abbr></label>
            <select id="rentalClientEmail" name="client_id" required <%=(formMode=='showDetails' ) ? 'disabled' : '' %>
                >
                <option value="" selected>--- Select client ---</option>
                <% for (let i=0; i<allClients.length; i++) { let cnt=allClients[i]; %>
                    <option value="<%= cnt._id %>" label="<%= cnt.email %>" <%=(rental._id &&
                        cnt._id.toString()==rental.client._id.toString()) ? 'selected' : '' %>></option>
                    <% } %>
            </select>

            <span id="errorRentalClientEmail" class="errors-text"></span>

            <label for="rentalBoat">Boat name: <abbr title="required" aria-label="required">*</abbr></label>
            <select id="rentalBoat" name="boat_id" required <%=(formMode=='showDetails' ) ? 'disabled' : '' %>
                >
                <option value="" selected>--- Select boat ---</option>
                <% for (let i=0; i<allBoats.length; i++) { let bt=allBoats[i]; %>
                    <option value="<%= bt._id %>" label="<%= bt.name %>" <%=(rental._id &&
                        bt._id.toString()==rental.boat._id.toString()) ? 'selected' : '' %>></option>
                    <% } %>
            </select>
            <span id="errorRentalBoat" class="errors-text"></span>

            <label for="rentalDateFrom">Date from <abbr title="required" aria-label="required">*</abbr></label>
            <input type="datetime-local" name="rentalDateFrom" id="rentalDateFrom">
            <span id="errorRentalDateFrom" class="errors-text"></span>

            <label for="rentalDateTo">Date to</label>
            <input type="datetime-local" name="rentalDateTo" id="rentalDateTo">
            <span id="errorRentalDateTo" class="errors-text"></span>

            <div class="form-buttons">
                <p id="errorsSummaryRental" class="errors-text"></p>
                <input type="submit" value="Add" class="form-button-submit" />
                <a href="rental-list.html" class="form-button-cancel">Cancel</a>
            </div>
        </form>
    </main>
    <%- include('../../fragments/footer.ejs') %>